<html>
<head>
  <meta charset="utf-8">
  <script src="../expand/vue.js"></script>
  <script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <!-- <!element-ui> -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>

  <link rel="stylesheet" href="../style/style.css">
  <link rel="stylesheet" href="../style/login.css">
</head>
<body>
  <div class="backImg">

    <div id="wrap">
      <canvas id="canvas" width="1536" height="722"></canvas>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="cube_wrap">
      <div class="cube">
        <div class="rotation">
          <div class="wall front"></div>
          <div class="wall back"></div>
          <div class="wall left"></div>
          <div class="wall right"></div>
          <div class="wall top"></div>
          <div class="wall bottom"></div>
        </div>
      </div>
    </div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
    <div class="square"></div>
  
  
  
  
  
  </div>
  <div id="div1" class="content">
    <div class="container">
      <p id="title">选课系统登入界面</p>
      <el-select v-model="identity" clearable placeholder="请选择身份" class="form-input">
        <el-option
          v-for="item in identityNum"
          :key="item.value"
          :label="item.label"
          :value="item.value">
      </el-option>
      </el-select>
      <el-input placeholder="请输入姓名" v-model="userName" clearable class="form-input"> </el-input>
      <el-input placeholder="请确认密码" v-model="password" show-password class="form-input"></el-input>
      <el-button type="primary"   @click="sumbit">登入</el-button>
    </div>
    <div id="word">没有账户？<span id="toRegister" @click="toRegister">去注册</span></div>
  </div>
</body>
</html>

<script>
  
var vm = new Vue({
  el: '#div1',
  data: {
    identityNum: [{
      value:'student',
      label:'学生'
    },{
      value:'teacher',
      label:'老师'
    }],
    identity: '',
    userName: '',
    password: ''
  },
  mounted:function(){
  },
  methods: {
    sumbit() {
      if(this.password == '' || this.identity == '' || this.userName == ''){
        this.$message('请完善信息')
        return
      }
      if(this.identity == 'student'){
        this.$http.post('../api/registerLogin/loginStudent.php',{
          name:this.userName,
          password:this.password
        },{emulateJSON:true}).then(function(res){
          this.$message(res.body)
          console.log(res.body)
        })
        window.location.href="../studentHomepage/studentHomepage.html?" + "txt=" + encodeURI(this.userName);
      }
      else if(this.identity == 'teacher'){
        this.$http.post('../api/registerLogin/loginTeacher.php',{
          name:this.userName,
          password:this.password
        },{emulateJSON:true}).then(function(res){
          this.$message(res.body)
          console.log(res.body)
        })
        window.location.href="../teacherHomepage/teacherHomepage.html?" + "txt=" + encodeURI(this.userName);
      }
      
      // console.log('identity',this.identity)
      // console.log('userName',this.userName)
      // console.log('password1',this.password1)
      // console.log('password2',this.password2)
    },
    toRegister(){
      window.location.href="register.html";
    }
  }
})
</script>
